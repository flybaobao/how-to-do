webpackJsonp([4],{"51z2":function(t,e){},"9JFG":function(t,e){},F0Dl:function(t,e){},KVU2:function(t,e){},LIoA:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("router-link",{attrs:{to:"/home"}},[n("i",{staticClass:"iconfont icon-shouye"}),t._v("home")]),t._v(" "),n("router-link",{attrs:{to:"/list"}},[n("i",{staticClass:"iconfont icon-shoucang"}),t._v("list")]),t._v(" "),n("router-link",{attrs:{to:"/add"}},[n("i",{staticClass:"iconfont icon-tianjia"}),t._v("add")]),t._v(" "),n("router-link",{attrs:{to:"/detail"}},[n("i",{staticClass:"iconfont icon-fanhui"}),t._v("detail")]),t._v(" "),n("router-link",{attrs:{to:"/listmore"}},[n("i",{staticClass:"iconfont icon-shoucang"}),t._v("加载")])],1)},staticRenderFns:[]};var i={name:"App",components:{Tab:n("VU/8")({data:function(){return{}}},o,!1,function(t){n("oF+9")},"data-v-51bc07d2",null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fadeIn"}},[e("keepAlive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1)],1),this._v(" "),e("transition",{attrs:{name:"fadeIn"}},[this.$route.meta.keepAlive?this._e():e("router-view")],1),this._v(" "),e("Tab")],1)},staticRenderFns:[]};var s=n("VU/8")(i,r,!1,function(t){n("m9YY")},null,null).exports,c=n("/ocq"),d=n("Xxa5"),u=n.n(d),l=n("d7EF"),f=n.n(l),v=n("exGp"),p=n.n(v),m=n("qmpX"),h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("swiper",{attrs:{options:this.swiperOption}},[this._l(this.swiperSlides,function(t,n){return e("swiper-slide",{key:n},[e("img",{attrs:{src:t,alt:""}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},staticRenderFns:[]};var _=n("VU/8")({name:"carrousel",props:["swiperSlides"],data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},autoplay:!0}}},mounted:function(){}},h,!1,function(t){n("51z2")},"data-v-c45e923a",null).exports,g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("div",{staticClass:"face"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"face"},[e("div",{staticClass:"circle"})])])}]};var k=n("VU/8")({data:function(){return{}}},g,!1,function(t){n("KVU2")},"data-v-63e5210d",null).exports,b=n("gyMJ"),C={data:function(){return{dataSliders:{},hotBooks:{},loading:!0}},components:{Header:m.a,Swiperdemo:_,Loading:k},created:function(){this._getDate()},methods:{_getDate:function(){var t=this;return p()(u.a.mark(function e(){var n,a,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)();case 2:n=e.sent,a=f()(n,2),o=a[0],i=a[1],t.dataSliders=o.data,t.hotBooks=i.data,t.loading=!1;case 9:case"end":return e.stop()}},e,t)}))()}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{back:!1}},[t._v("首页")]),t._v(" "),n("div",{staticClass:"content"},[t.loading?n("Loading"):[n("Swiperdemo",{attrs:{swiperSlides:t.dataSliders}}),t._v(" "),t._l(t.hotBooks,function(e,a){return n("div",{key:a,staticClass:"list"},[n("img",{attrs:{src:e.bookCover,alt:""}}),t._v(" "),n("div",{staticClass:"info",attrs:{id:e.bookId}},[n("p",[t._v(t._s(e.bookName))]),t._v(" "),n("p",[t._v(t._s(e.bookInfo))]),t._v(" "),n("p",[t._v(t._s(e.bookPrice))]),t._v(" "),n("p",[t._v(t._s(e.bookOldPrice))])])])})]],2)],1)},staticRenderFns:[]};var w=n("VU/8")(C,x,!1,function(t){n("mMWx")},"data-v-0c4a5af6",null).exports,F={data:function(){return{}},props:["deleteId","das"],methods:{remove:function(t){var e=this;return p()(u.a.mark(function n(){var a,o;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(b.f)(t);case 2:a=n.sent,o=a.data,console.log(o),e.$emit("update:das",o);case 6:case"end":return n.stop()}},n,e)}))()}},components:{}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:function(e){return e.stopPropagation(),t.remove(t.deleteId)}}},[t._v("删除")])])},staticRenderFns:[]};var I=n("VU/8")(F,y,!1,function(t){n("qrWI")},"data-v-7b1c4016",null).exports,E={data:function(){return{books:[]}},components:{Header:m.a,DeleteButton:I},created:function(){this._getData()},methods:{_getData:function(){var t=this;return p()(u.a.mark(function e(){var n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.d)();case 2:n=e.sent,a=n.data,t.books=a;case 5:case"end":return e.stop()}},e,t)}))()}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{back:!0}},[t._v("list")]),t._v(" "),n("div",{staticClass:"content"},t._l(t.books,function(e,a){return n("router-link",{key:a,staticClass:"list",attrs:{to:{name:"listdetail",params:{id:e.bookId}},tag:"div"}},[n("img",{attrs:{src:e.bookCover,alt:""}}),t._v(" "),n("div",{staticClass:"info",attrs:{id:e.bookId}},[n("p",[t._v(t._s(e.bookName))]),t._v(" "),n("p",[t._v(t._s(e.bookInfo))]),t._v(" "),n("p",[t._v(t._s(e.bookPrice))]),t._v(" "),n("p",[t._v(t._s(e.bookOldPrice)+"\n          "),n("DeleteButton",{attrs:{deleteId:e.bookId,das:t.books},on:{"update:das":function(e){t.books=e}}})],1)])])}),1)],1)},staticRenderFns:[]};var L=n("VU/8")(E,$,!1,function(t){n("F0Dl")},"data-v-17007ada",null).exports,D={data:function(){return{books:[],loading:!0,offset:0,hasMore:!0,isloading:!1,timer:null}},components:{Header:m.a,Loading:k},created:function(){this._getData()},mounted:function(){var t=this,e=this.$refs.scroll,n=e.offsetTop;e.addEventListener("touchstart",function(a){if(console.log(e.offsetTop),0===e.scrollTop||e.offsetTop===n){var o=a.touches[0].pageY,i=0,r=function t(a){var r=a.touches[0].pageY;(i=r-o)>0?i<=50?e.style.top=i+n+"px":(i=50,e.style.top=n+50+"px"):(e.removeEventListener("touchmove",t),e.removeEventListener("touchend",s))},s=function a(o){clearInterval(t.timer),t.timer=setInterval(function(){if(i<=0)return clearInterval(t.timer),i=0,e.style.top=n+"px",e.addEventListener("touchmove",r),e.addEventListener("touchend",a),t.books=[],t.offset=0,void t._getData();i-=1,e.style.top=n+i+"px"},1)};e.addEventListener("touchmove",r),e.addEventListener("touchend",s)}},!1)},methods:{loadMore:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){var e=t.$refs.scroll;e.scrollTop+e.clientHeight>=e.scrollHeight&&t._getData()},13)},loadings:function(){this._getData()},_getData:function(){var t=this;return p()(u.a.mark(function e(){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasMore||t.isloading){e.next=10;break}return t.isloading=!0,e.next=4,Object(b.e)(t.offset);case 4:n=e.sent,t.books=t.books.concat(n.data.morebooks),t.hasMore=n.data.hasMore,t.offset=t.books.length,t.loading=!1,t.isloading=!1;case 10:case"end":return e.stop()}},e,t)}))()}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{back:!0}},[t._v("上拉加载|下拉刷新")]),t._v(" "),t.isloading?n("div",{staticClass:"dark"},[n("Loading")],1):t._e(),t._v(" "),n("div",{ref:"scroll",staticClass:"content",on:{scroll:t.loadMore}},[n("ul",[t._l(t.books,function(e,a){return n("router-link",{key:a,staticClass:"list",attrs:{to:{name:"listdetail",params:{id:e.bookId}},tag:"li"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.bookCover,expression:"book.bookCover"}],attrs:{alt:""}}),t._v(" "),n("div",{staticClass:"info",attrs:{id:e.bookId}},[n("p",[t._v(t._s(e.bookName))]),t._v(" "),n("p",[t._v(t._s(e.bookInfo))]),t._v(" "),n("p",[t._v(t._s(e.bookPrice))]),t._v(" "),n("p",[t._v(t._s(e.bookOldPrice)+"\n          ")])])])}),t._v(" "),t.hasMore&&!t.isloading?n("div",{staticClass:"more",on:{click:t.loadings}},[t._v("加载更多0....")]):t._e()],2)])],1)},staticRenderFns:[]};var A=n("VU/8")(D,M,!1,function(t){n("LIoA")},"data-v-bd4593b2",null).exports;a.a.use(c.a);var U=new c.a({mode:"history",routes:[{path:"*",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/home",name:"home",component:w,meta:{keepAlive:!0}},{path:"/list",name:"list",component:L},{path:"/listmore",name:"listmore",component:A},{path:"/add",name:"add",component:function(){return n.e(1).then(n.bind(null,"il+h"))}},{path:"/detail",name:"detail",component:function(){return n.e(2).then(n.bind(null,"wHgX"))}},{path:"/listdetail/:id",name:"listdetail",component:function(){return n.e(0).then(n.bind(null,"SrNY"))}}]}),H=n("7QTg"),T=n.n(H),V=(n("v2ns"),n("AXdl"));a.a.use(V.a,{preLoad:1.3,error:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562778531292&di=f87c9657cea16f349202c06b927b2561&imgtype=0&src=http%3A%2F%2Fimg1.juimg.com%2F161122%2F330846-161122230S845.jpg",loading:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562778578916&di=a19970bbad9f0e3ad3fd04c85ce6f1b5&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01f3a657902ac20000012e7e5e2fed.gif",attempt:1}),a.a.use(T.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:U,components:{App:s},template:"<App/>"})},gyMJ:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"f",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return l});var a=n("mtWM"),o=n.n(a);o.a.defaults.baseURL="http://localhost:3000";var i=function(){return o.a.get("/book")},r=function(t){return o.a.delete("/book?id="+t)},s=function(t){return o.a.get("/book?id="+t)},c=function(t,e){return o.a.put("/book?id="+t,e)},d=function(t){return o.a.post("/book",t)},u=function(){return o.a.all([o.a.get("/sliders"),o.a.get("/hot")])},l=function(t){return o.a.get("/more?offset="+t)}},m9YY:function(t,e){},mMWx:function(t,e){},"oF+9":function(t,e){},qmpX:function(t,e,n){"use strict";var a={data:function(){return{}},props:{back:{type:Boolean,default:!1}},methods:{goBacked:function(){this.$router.go(-1)}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[this._t("default"),this._v(" "),this.back?e("i",{staticClass:"iconfont icon-fanhui",on:{click:this.goBacked}}):this._e()],2)},staticRenderFns:[]};var i=n("VU/8")(a,o,!1,function(t){n("9JFG")},"data-v-355394e6",null);e.a=i.exports},qrWI:function(t,e){},v2ns:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e488428dc8941f185f51.js.map